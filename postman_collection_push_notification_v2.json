{
	"info": {
		"_postman_id": "push-notification-v2-collection-2025",
		"name": "Push Notification V2 API",
		"description": "Complete V2 Push Notification API collection using Firebase Cloud Messaging (FCM). Includes token management, notification sending, broadcasting, topic subscriptions, and analytics.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "push-notification-v2"
	},
	"item": [
		{
			"name": "Token Management",
			"item": [
				{
					"name": "Register FCM Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const jsonData = pm.response.json();",
									"    if (jsonData.data && jsonData.data.id) {",
									"        pm.collectionVariables.set(\"tokenId\", jsonData.data.id);",
									"        pm.collectionVariables.set(\"registeredFcmToken\", jsonData.data.fcmToken);",
									"        console.log(\"Saved tokenId:\", jsonData.data.id);",
									"        console.log(\"Saved fcmToken:\", jsonData.data.fcmToken);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fcmToken\": \"{{fcmToken}}\",\n  \"userId\": \"{{userId}}\",\n  \"deviceType\": \"web\",\n  \"deviceId\": \"device-12345\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v2/tenants/{{tenantId}}/push-notifications/tokens",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v2",
								"tenants",
								"{{tenantId}}",
								"push-notifications",
								"tokens"
							]
						},
						"description": "Register a new FCM token for a user or staff member. If the token already exists, it will be updated with the new information."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"fcmToken\": \"dQw4w9WgXcQ:APA91bHun4MxP5egoKMwt2KZFBaFUH-1RYqx...\",\n  \"userId\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"deviceType\": \"web\",\n  \"deviceId\": \"device-12345\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v2/tenants/{{tenantId}}/push-notifications/tokens",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v2",
										"tenants",
										"{{tenantId}}",
										"push-notifications",
										"tokens"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"meta\": {\n        \"status\": 200,\n        \"message\": \"FCM token registered successfully\"\n    },\n    \"data\": {\n        \"id\": \"token-uuid-123\",\n        \"tenantId\": \"tenant-uuid-456\",\n        \"userId\": \"550e8400-e29b-41d4-a716-446655440000\",\n        \"staffId\": null,\n        \"fcmToken\": \"dQw4w9WgXcQ:APA91bHun4MxP5egoKMwt2KZFBaFUH-1RYqx...\",\n        \"deviceType\": \"web\",\n        \"deviceId\": \"device-12345\",\n        \"isActive\": true,\n        \"createdAt\": \"2025-11-25T10:30:00.000Z\",\n        \"updatedAt\": \"2025-11-25T10:30:00.000Z\",\n        \"lastUsedAt\": \"2025-11-25T10:30:00.000Z\"\n    }\n}"
						}
					]
				},
				{
					"name": "Get Active Tokens",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v2/tenants/{{tenantId}}/push-notifications/tokens",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v2",
								"tenants",
								"{{tenantId}}",
								"push-notifications",
								"tokens"
							]
						},
						"description": "Get all active FCM tokens registered for the tenant. Returns tokens for both users and staff members."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v2/tenants/{{tenantId}}/push-notifications/tokens",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v2",
										"tenants",
										"{{tenantId}}",
										"push-notifications",
										"tokens"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"meta\": {\n        \"status\": 200,\n        \"message\": \"Active tokens retrieved successfully\"\n    },\n    \"data\": [\n        {\n            \"id\": \"token-uuid-123\",\n            \"tenantId\": \"tenant-uuid-456\",\n            \"userId\": \"550e8400-e29b-41d4-a716-446655440000\",\n            \"staffId\": null,\n            \"fcmToken\": \"dQw4w9WgXcQ:APA91bHun4MxP5egoKMwt2KZFBaFUH-1RYqx...\",\n            \"deviceType\": \"web\",\n            \"deviceId\": \"device-12345\",\n            \"isActive\": true,\n            \"lastUsedAt\": \"2025-11-25T10:30:00.000Z\"\n        },\n        {\n            \"id\": \"token-uuid-789\",\n            \"tenantId\": \"tenant-uuid-456\",\n            \"userId\": \"550e8400-e29b-41d4-a716-446655440001\",\n            \"staffId\": null,\n            \"fcmToken\": \"eRx5x0XhYdR:APA91bIvo5NyQ6fhpLNxu3LAGCbGVI-2SZry...\",\n            \"deviceType\": \"android\",\n            \"deviceId\": \"device-67890\",\n            \"isActive\": true,\n            \"lastUsedAt\": \"2025-11-25T09:15:00.000Z\"\n        }\n    ]\n}"
						}
					]
				},
				{
					"name": "Deactivate FCM Token",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v2/tenants/{{tenantId}}/push-notifications/tokens/{{registeredFcmToken}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v2",
								"tenants",
								"{{tenantId}}",
								"push-notifications",
								"tokens",
								"{{registeredFcmToken}}"
							]
						},
						"description": "Deactivate an FCM token. Use this when a user logs out or uninstalls the app."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v2/tenants/{{tenantId}}/push-notifications/tokens/dQw4w9WgXcQ:APA91b...",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v2",
										"tenants",
										"{{tenantId}}",
										"push-notifications",
										"tokens",
										"dQw4w9WgXcQ:APA91b..."
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"meta\": {\n        \"status\": 200,\n        \"message\": \"FCM token deactivated successfully\"\n    },\n    \"data\": null\n}"
						}
					]
				}
			],
			"description": "Endpoints for managing FCM tokens - registration, listing, and deactivation"
		},
		{
			"name": "Send Notifications",
			"item": [
				{
					"name": "Send to Specific Token",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"ðŸ’° Donasi Baru\",\n  \"body\": \"Anda menerima donasi sebesar Rp 100.000 dari John Doe\",\n  \"data\": {\n    \"type\": \"donation\",\n    \"donationId\": \"donation-123\",\n    \"amount\": \"100000\"\n  },\n  \"imageUrl\": \"https://example.com/donation-image.jpg\",\n  \"targetType\": \"token\",\n  \"targetValue\": \"{{fcmToken}}\",\n  \"category\": \"donation\",\n  \"eventType\": \"donation_pending\",\n  \"priority\": \"high\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v2/tenants/{{tenantId}}/push-notifications/send",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v2",
								"tenants",
								"{{tenantId}}",
								"push-notifications",
								"send"
							]
						},
						"description": "Send push notification to a specific device token."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"title\": \"ðŸ’° Donasi Baru\",\n  \"body\": \"Anda menerima donasi sebesar Rp 100.000 dari John Doe\",\n  \"data\": {\n    \"type\": \"donation\",\n    \"donationId\": \"donation-123\",\n    \"amount\": \"100000\"\n  },\n  \"targetType\": \"token\",\n  \"targetValue\": \"dQw4w9WgXcQ:APA91b...\",\n  \"category\": \"donation\",\n  \"eventType\": \"donation_pending\",\n  \"priority\": \"high\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v2/tenants/{{tenantId}}/push-notifications/send",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v2",
										"tenants",
										"{{tenantId}}",
										"push-notifications",
										"send"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"meta\": {\n        \"status\": 200,\n        \"message\": \"Notification sent successfully\"\n    },\n    \"data\": {\n        \"id\": \"message-uuid-123\",\n        \"tenantId\": \"tenant-uuid-456\",\n        \"title\": \"ðŸ’° Donasi Baru\",\n        \"body\": \"Anda menerima donasi sebesar Rp 100.000 dari John Doe\",\n        \"targetType\": \"token\",\n        \"targetValue\": \"dQw4w9WgXcQ:APA91b...\",\n        \"category\": \"donation\",\n        \"eventType\": \"donation_pending\",\n        \"status\": \"pending\",\n        \"createdAt\": \"2025-11-25T10:45:00.000Z\"\n    }\n}"
						}
					]
				},
				{
					"name": "Send to Topic",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"ðŸ›’ Pesanan Baru\",\n  \"body\": \"Ada pesanan baru #ORD-2025-001 senilai Rp 250.000\",\n  \"data\": {\n    \"type\": \"order\",\n    \"orderId\": \"order-789\",\n    \"orderNumber\": \"ORD-2025-001\",\n    \"amount\": \"250000\"\n  },\n  \"targetType\": \"topic\",\n  \"targetValue\": \"orders\",\n  \"category\": \"order\",\n  \"eventType\": \"order_created\",\n  \"priority\": \"high\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v2/tenants/{{tenantId}}/push-notifications/send",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v2",
								"tenants",
								"{{tenantId}}",
								"push-notifications",
								"send"
							]
						},
						"description": "Send push notification to all subscribers of a topic (e.g., 'orders', 'donations')."
					},
					"response": []
				},
				{
					"name": "Broadcast to All Owners",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const jsonData = pm.response.json();",
									"    if (jsonData.data && jsonData.data.id) {",
									"        pm.collectionVariables.set(\"messageId\", jsonData.data.id);",
									"        console.log(\"Saved messageId:\", jsonData.data.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"âœ… Donasi Terkonfirmasi\",\n  \"body\": \"Donasi dari John Doe sebesar Rp 100.000 telah terkonfirmasi!\",\n  \"data\": {\n    \"type\": \"donation\",\n    \"donationId\": \"donation-123\",\n    \"status\": \"settlement\",\n    \"amount\": \"100000\"\n  },\n  \"imageUrl\": \"https://example.com/success.jpg\",\n  \"category\": \"donation\",\n  \"eventType\": \"donation_confirmed\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v2/tenants/{{tenantId}}/push-notifications/broadcast",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v2",
								"tenants",
								"{{tenantId}}",
								"push-notifications",
								"broadcast"
							]
						},
						"description": "Broadcast notification to all owners of the tenant. Useful for important updates like donation confirmations, system announcements, etc."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"title\": \"âœ… Donasi Terkonfirmasi\",\n  \"body\": \"Donasi dari John Doe sebesar Rp 100.000 telah terkonfirmasi!\",\n  \"data\": {\n    \"type\": \"donation\",\n    \"donationId\": \"donation-123\",\n    \"status\": \"settlement\",\n    \"amount\": \"100000\"\n  },\n  \"category\": \"donation\",\n  \"eventType\": \"donation_confirmed\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v2/tenants/{{tenantId}}/push-notifications/broadcast",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v2",
										"tenants",
										"{{tenantId}}",
										"push-notifications",
										"broadcast"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"meta\": {\n        \"status\": 200,\n        \"message\": \"Broadcast sent successfully\"\n    },\n    \"data\": {\n        \"id\": \"message-uuid-456\",\n        \"tenantId\": \"tenant-uuid-456\",\n        \"title\": \"âœ… Donasi Terkonfirmasi\",\n        \"body\": \"Donasi dari John Doe sebesar Rp 100.000 telah terkonfirmasi!\",\n        \"targetType\": \"broadcast\",\n        \"targetValue\": \"3 owners\",\n        \"category\": \"donation\",\n        \"eventType\": \"donation_confirmed\",\n        \"status\": \"pending\",\n        \"createdAt\": \"2025-11-25T11:00:00.000Z\"\n    }\n}"
						}
					]
				}
			],
			"description": "Endpoints for sending push notifications to tokens, topics, or broadcasting to all owners"
		},
		{
			"name": "History & Analytics",
			"item": [
				{
					"name": "Get Notification History",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v2/tenants/{{tenantId}}/push-notifications/history?limit=50&category=donation",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v2",
								"tenants",
								"{{tenantId}}",
								"push-notifications",
								"history"
							],
							"query": [
								{
									"key": "limit",
									"value": "50",
									"description": "Number of notifications to return (default: 50)"
								},
								{
									"key": "category",
									"value": "donation",
									"description": "Filter by category: donation, order, payment, inventory, subscription, system, custom"
								}
							]
						},
						"description": "Get notification history for the tenant. Can be filtered by category and limited by count."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v2/tenants/{{tenantId}}/push-notifications/history?limit=10&category=donation",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v2",
										"tenants",
										"{{tenantId}}",
										"push-notifications",
										"history"
									],
									"query": [
										{
											"key": "limit",
											"value": "10"
										},
										{
											"key": "category",
											"value": "donation"
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"meta\": {\n        \"status\": 200,\n        \"message\": \"Notification history retrieved successfully\"\n    },\n    \"data\": [\n        {\n            \"id\": \"message-uuid-123\",\n            \"tenantId\": \"tenant-uuid-456\",\n            \"title\": \"âœ… Donasi Terkonfirmasi\",\n            \"body\": \"Donasi dari John Doe sebesar Rp 100.000 telah terkonfirmasi!\",\n            \"targetType\": \"broadcast\",\n            \"category\": \"donation\",\n            \"eventType\": \"donation_confirmed\",\n            \"status\": \"sent\",\n            \"sentAt\": \"2025-11-25T11:00:05.000Z\",\n            \"createdAt\": \"2025-11-25T11:00:00.000Z\"\n        },\n        {\n            \"id\": \"message-uuid-124\",\n            \"tenantId\": \"tenant-uuid-456\",\n            \"title\": \"ðŸ’° Donasi Baru Diterima\",\n            \"body\": \"Jane Smith telah berdonasi Rp 50.000\",\n            \"targetType\": \"broadcast\",\n            \"category\": \"donation\",\n            \"eventType\": \"donation_pending\",\n            \"status\": \"sent\",\n            \"sentAt\": \"2025-11-25T10:30:02.000Z\",\n            \"createdAt\": \"2025-11-25T10:30:00.000Z\"\n        }\n    ]\n}"
						}
					]
				},
				{
					"name": "Get Notification Statistics",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v2/tenants/{{tenantId}}/push-notifications/statistics?dateFrom=2025-11-01&dateTo=2025-11-30",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v2",
								"tenants",
								"{{tenantId}}",
								"push-notifications",
								"statistics"
							],
							"query": [
								{
									"key": "dateFrom",
									"value": "2025-11-01",
									"description": "Start date (ISO format, optional)"
								},
								{
									"key": "dateTo",
									"value": "2025-11-30",
									"description": "End date (ISO format, optional)"
								}
							]
						},
						"description": "Get notification statistics including total sent, failed, pending, and success rate. Can be filtered by date range."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v2/tenants/{{tenantId}}/push-notifications/statistics?dateFrom=2025-11-01&dateTo=2025-11-30",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v2",
										"tenants",
										"{{tenantId}}",
										"push-notifications",
										"statistics"
									],
									"query": [
										{
											"key": "dateFrom",
											"value": "2025-11-01"
										},
										{
											"key": "dateTo",
											"value": "2025-11-30"
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"meta\": {\n        \"status\": 200,\n        \"message\": \"Statistics retrieved successfully\"\n    },\n    \"data\": {\n        \"total\": 1500,\n        \"sent\": 1425,\n        \"failed\": 50,\n        \"pending\": 25,\n        \"successRate\": 95.00\n    }\n}"
						}
					]
				}
			],
			"description": "Endpoints for viewing notification history and analytics"
		},
		{
			"name": "Topic Management",
			"item": [
				{
					"name": "Subscribe to Topic",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"tokenId\": \"{{fcmToken}}\",\n  \"topic\": \"donations\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v2/tenants/{{tenantId}}/push-notifications/topics/subscribe",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v2",
								"tenants",
								"{{tenantId}}",
								"push-notifications",
								"topics",
								"subscribe"
							]
						},
						"description": "Subscribe a token to a topic. Topics allow sending notifications to groups of users (e.g., all users interested in donations)."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"tokenId\": \"dQw4w9WgXcQ:APA91b...\",\n  \"topic\": \"donations\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v2/tenants/{{tenantId}}/push-notifications/topics/subscribe",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v2",
										"tenants",
										"{{tenantId}}",
										"push-notifications",
										"topics",
										"subscribe"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"meta\": {\n        \"status\": 200,\n        \"message\": \"Subscribed to topic successfully\"\n    },\n    \"data\": null\n}"
						}
					]
				},
				{
					"name": "Unsubscribe from Topic",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"tokenId\": \"{{fcmToken}}\",\n  \"topic\": \"donations\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v2/tenants/{{tenantId}}/push-notifications/topics/unsubscribe",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v2",
								"tenants",
								"{{tenantId}}",
								"push-notifications",
								"topics",
								"unsubscribe"
							]
						},
						"description": "Unsubscribe a token from a topic. Use this when users want to stop receiving notifications for specific topics."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"tokenId\": \"dQw4w9WgXcQ:APA91b...\",\n  \"topic\": \"donations\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{base_url}}/api/v2/tenants/{{tenantId}}/push-notifications/topics/unsubscribe",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v2",
										"tenants",
										"{{tenantId}}",
										"push-notifications",
										"topics",
										"unsubscribe"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"meta\": {\n        \"status\": 200,\n        \"message\": \"Unsubscribed from topic successfully\"\n    },\n    \"data\": null\n}"
						}
					]
				}
			],
			"description": "Endpoints for managing topic subscriptions"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:3000",
			"type": "string"
		},
		{
			"key": "token",
			"value": "your_jwt_token_here",
			"type": "string"
		},
		{
			"key": "tenantId",
			"value": "your_tenant_id_here",
			"type": "string"
		},
		{
			"key": "userId",
			"value": "your_user_id_here",
			"type": "string"
		},
		{
			"key": "fcmToken",
			"value": "dQw4w9WgXcQ:APA91bHun4MxP5egoKMwt2KZFBaFUH-1RYqx...",
			"type": "string",
			"description": "FCM token from client device"
		},
		{
			"key": "tokenId",
			"value": "",
			"type": "string",
			"description": "Auto-saved token ID from registration"
		},
		{
			"key": "registeredFcmToken",
			"value": "",
			"type": "string",
			"description": "Auto-saved FCM token from registration"
		},
		{
			"key": "messageId",
			"value": "",
			"type": "string",
			"description": "Auto-saved message ID from broadcast"
		}
	]
}
